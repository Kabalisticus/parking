--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4 (Ubuntu 15.4-2.pgdg22.04+1)
-- Dumped by pg_dump version 16.0 (Ubuntu 16.0-1.pgdg22.04+1)

-- Started on 2023-11-04 14:53:30 CET

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 215 (class 1259 OID 24790)
-- Name: abonamenty; Type: TABLE; Schema: public; Owner: parking
--

CREATE TABLE public.abonamenty (
    numer_subskrybcji integer NOT NULL,
    numer_rejestracyjny character(10),
    data_rozpoczecia date,
    data_zakonczenia date,
    status_platnosci character(12),
    kwota numeric(7,0)
);


ALTER TABLE public.abonamenty OWNER TO parking;

--
-- TOC entry 214 (class 1259 OID 24789)
-- Name: abonamenty_numer_subskrybcji_seq; Type: SEQUENCE; Schema: public; Owner: parking
--

CREATE SEQUENCE public.abonamenty_numer_subskrybcji_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.abonamenty_numer_subskrybcji_seq OWNER TO parking;

--
-- TOC entry 3409 (class 0 OID 0)
-- Dependencies: 214
-- Name: abonamenty_numer_subskrybcji_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: parking
--

ALTER SEQUENCE public.abonamenty_numer_subskrybcji_seq OWNED BY public.abonamenty.numer_subskrybcji;


--
-- TOC entry 222 (class 1259 OID 41232)
-- Name: platnosci_abonament; Type: TABLE; Schema: public; Owner: parking
--

CREATE TABLE public.platnosci_abonament (
    numer_platnosci bigint NOT NULL,
    numer_subskrybcji bigint,
    kwota numeric(2,0),
    status_platnosci character(12),
    data_platnosci date
);


ALTER TABLE public.platnosci_abonament OWNER TO parking;

--
-- TOC entry 223 (class 1259 OID 41246)
-- Name: platnosci_abonament_numer_platnosci_seq; Type: SEQUENCE; Schema: public; Owner: parking
--

CREATE SEQUENCE public.platnosci_abonament_numer_platnosci_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.platnosci_abonament_numer_platnosci_seq OWNER TO parking;

--
-- TOC entry 3410 (class 0 OID 0)
-- Dependencies: 223
-- Name: platnosci_abonament_numer_platnosci_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: parking
--

ALTER SEQUENCE public.platnosci_abonament_numer_platnosci_seq OWNED BY public.platnosci_abonament.numer_platnosci;


--
-- TOC entry 220 (class 1259 OID 24872)
-- Name: platnosci_jednorazowe; Type: TABLE; Schema: public; Owner: parking
--

CREATE TABLE public.platnosci_jednorazowe (
    numer_platnosci integer NOT NULL,
    numer_wydruku bigint,
    kwota numeric,
    status_platnosci character(10) NOT NULL,
    data_platnosci date
);


ALTER TABLE public.platnosci_jednorazowe OWNER TO parking;

--
-- TOC entry 221 (class 1259 OID 24877)
-- Name: platnosci_jednorazowe_numer_platnosci_seq; Type: SEQUENCE; Schema: public; Owner: parking
--

CREATE SEQUENCE public.platnosci_jednorazowe_numer_platnosci_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.platnosci_jednorazowe_numer_platnosci_seq OWNER TO parking;

--
-- TOC entry 3411 (class 0 OID 0)
-- Dependencies: 221
-- Name: platnosci_jednorazowe_numer_platnosci_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: parking
--

ALTER SEQUENCE public.platnosci_jednorazowe_numer_platnosci_seq OWNED BY public.platnosci_jednorazowe.numer_platnosci;


--
-- TOC entry 217 (class 1259 OID 24806)
-- Name: pojazdy; Type: TABLE; Schema: public; Owner: parking
--

CREATE TABLE public.pojazdy (
    numer_pojazdu integer NOT NULL,
    numer_rejestracyjny character(10) NOT NULL
);


ALTER TABLE public.pojazdy OWNER TO parking;

--
-- TOC entry 216 (class 1259 OID 24805)
-- Name: pojazdy_numer_pojazdu_seq; Type: SEQUENCE; Schema: public; Owner: parking
--

CREATE SEQUENCE public.pojazdy_numer_pojazdu_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.pojazdy_numer_pojazdu_seq OWNER TO parking;

--
-- TOC entry 3412 (class 0 OID 0)
-- Dependencies: 216
-- Name: pojazdy_numer_pojazdu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: parking
--

ALTER SEQUENCE public.pojazdy_numer_pojazdu_seq OWNED BY public.pojazdy.numer_pojazdu;


--
-- TOC entry 219 (class 1259 OID 24815)
-- Name: rejestr_wjazdu_wyjazdu; Type: TABLE; Schema: public; Owner: parking
--

CREATE TABLE public.rejestr_wjazdu_wyjazdu (
    numer_wydruku integer NOT NULL,
    numer_rejestracyjny character(10) NOT NULL,
    czas_wjazdu date NOT NULL,
    czas_wyjazdu date,
    kwota numeric NOT NULL,
    status_platnosci character(10) NOT NULL
);


ALTER TABLE public.rejestr_wjazdu_wyjazdu OWNER TO parking;

--
-- TOC entry 218 (class 1259 OID 24814)
-- Name: rejestr_wjazdu_wyjazdu_numer_wydruku_seq; Type: SEQUENCE; Schema: public; Owner: parking
--

CREATE SEQUENCE public.rejestr_wjazdu_wyjazdu_numer_wydruku_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.rejestr_wjazdu_wyjazdu_numer_wydruku_seq OWNER TO parking;

--
-- TOC entry 3413 (class 0 OID 0)
-- Dependencies: 218
-- Name: rejestr_wjazdu_wyjazdu_numer_wydruku_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: parking
--

ALTER SEQUENCE public.rejestr_wjazdu_wyjazdu_numer_wydruku_seq OWNED BY public.rejestr_wjazdu_wyjazdu.numer_wydruku;


--
-- TOC entry 3231 (class 2604 OID 24793)
-- Name: abonamenty numer_subskrybcji; Type: DEFAULT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.abonamenty ALTER COLUMN numer_subskrybcji SET DEFAULT nextval('public.abonamenty_numer_subskrybcji_seq'::regclass);


--
-- TOC entry 3235 (class 2604 OID 41248)
-- Name: platnosci_abonament numer_platnosci; Type: DEFAULT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.platnosci_abonament ALTER COLUMN numer_platnosci SET DEFAULT nextval('public.platnosci_abonament_numer_platnosci_seq'::regclass);


--
-- TOC entry 3234 (class 2604 OID 24878)
-- Name: platnosci_jednorazowe numer_platnosci; Type: DEFAULT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.platnosci_jednorazowe ALTER COLUMN numer_platnosci SET DEFAULT nextval('public.platnosci_jednorazowe_numer_platnosci_seq'::regclass);


--
-- TOC entry 3232 (class 2604 OID 24809)
-- Name: pojazdy numer_pojazdu; Type: DEFAULT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.pojazdy ALTER COLUMN numer_pojazdu SET DEFAULT nextval('public.pojazdy_numer_pojazdu_seq'::regclass);


--
-- TOC entry 3233 (class 2604 OID 24818)
-- Name: rejestr_wjazdu_wyjazdu numer_wydruku; Type: DEFAULT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.rejestr_wjazdu_wyjazdu ALTER COLUMN numer_wydruku SET DEFAULT nextval('public.rejestr_wjazdu_wyjazdu_numer_wydruku_seq'::regclass);


--
-- TOC entry 3395 (class 0 OID 24790)
-- Dependencies: 215
-- Data for Name: abonamenty; Type: TABLE DATA; Schema: public; Owner: parking
--

COPY public.abonamenty (numer_subskrybcji, numer_rejestracyjny, data_rozpoczecia, data_zakonczenia, status_platnosci, kwota) FROM stdin;
70	FI-7LZL   	2023-11-03	2023-11-04	Oczekuje    	50
71	PO-NHY22  	2023-01-01	2023-01-02	Oczekuje    	50
72	PO-NHY22  	2023-01-01	2023-01-02	Oczekuje    	50
74	PO-HNUS2  	2023-01-01	2023-01-02	Oczekuje    	50
75	PO-HNUS2  	2023-01-01	2024-01-02	Oczekuje    	18300
73	PO-NHY22  	2023-01-01	2023-01-02	Zakonczono  	50
\.


--
-- TOC entry 3402 (class 0 OID 41232)
-- Dependencies: 222
-- Data for Name: platnosci_abonament; Type: TABLE DATA; Schema: public; Owner: parking
--

COPY public.platnosci_abonament (numer_platnosci, numer_subskrybcji, kwota, status_platnosci, data_platnosci) FROM stdin;
2	73	50	Zakonczono  	2023-01-01
\.


--
-- TOC entry 3400 (class 0 OID 24872)
-- Dependencies: 220
-- Data for Name: platnosci_jednorazowe; Type: TABLE DATA; Schema: public; Owner: parking
--

COPY public.platnosci_jednorazowe (numer_platnosci, numer_wydruku, kwota, status_platnosci, data_platnosci) FROM stdin;
24	33	1205	Zakonczono	2023-11-13
25	35	30	Zakonczono	2023-02-11
26	36	570	Zakonczono	2023-07-23
27	37	795	Zakonczono	2023-07-22
28	38	870	Zakonczono	2023-08-12
29	39	880	Zakonczono	2023-08-06
30	40	530	Zakonczono	2023-06-10
32	42	1820	Zakonczono	2023-01-01
\.


--
-- TOC entry 3397 (class 0 OID 24806)
-- Dependencies: 217
-- Data for Name: pojazdy; Type: TABLE DATA; Schema: public; Owner: parking
--

COPY public.pojazdy (numer_pojazdu, numer_rejestracyjny) FROM stdin;
100	ABC-12259 
101	OI-6992   
102	ABC-12373 
103	ABC-12449 
104	ABC-12666 
105	ABC-12613 
106	ABC-12789 
107	ABC-12879 
108	ABC-12403 
109	FI-7LZL   
113	PO-NHY22  
120	PO-HNUS2  
\.


--
-- TOC entry 3399 (class 0 OID 24815)
-- Dependencies: 219
-- Data for Name: rejestr_wjazdu_wyjazdu; Type: TABLE DATA; Schema: public; Owner: parking
--

COPY public.rejestr_wjazdu_wyjazdu (numer_wydruku, numer_rejestracyjny, czas_wjazdu, czas_wyjazdu, kwota, status_platnosci) FROM stdin;
42	PO-HNUS2  	2024-01-01	2025-01-01	1820	Zakonczono
33	ABC-12259 	2023-03-17	2023-11-13	1205	Zakonczono
34	OI-6992   	2023-10-29	\N	0	Oczekuje  
35	ABC-12373 	2023-02-05	2023-02-11	30	Zakonczono
36	ABC-12449 	2023-03-31	2023-07-23	570	Zakonczono
37	ABC-12666 	2023-02-13	2023-07-22	795	Zakonczono
38	ABC-12613 	2023-02-19	2023-08-12	870	Zakonczono
39	ABC-12789 	2023-02-11	2023-08-06	880	Zakonczono
40	ABC-12879 	2023-02-24	2023-06-10	530	Zakonczono
41	ABC-12403 	2023-01-29	2023-06-12	670	Zakonczono
\.


--
-- TOC entry 3414 (class 0 OID 0)
-- Dependencies: 214
-- Name: abonamenty_numer_subskrybcji_seq; Type: SEQUENCE SET; Schema: public; Owner: parking
--

SELECT pg_catalog.setval('public.abonamenty_numer_subskrybcji_seq', 75, true);


--
-- TOC entry 3415 (class 0 OID 0)
-- Dependencies: 223
-- Name: platnosci_abonament_numer_platnosci_seq; Type: SEQUENCE SET; Schema: public; Owner: parking
--

SELECT pg_catalog.setval('public.platnosci_abonament_numer_platnosci_seq', 2, true);


--
-- TOC entry 3416 (class 0 OID 0)
-- Dependencies: 221
-- Name: platnosci_jednorazowe_numer_platnosci_seq; Type: SEQUENCE SET; Schema: public; Owner: parking
--

SELECT pg_catalog.setval('public.platnosci_jednorazowe_numer_platnosci_seq', 32, true);


--
-- TOC entry 3417 (class 0 OID 0)
-- Dependencies: 216
-- Name: pojazdy_numer_pojazdu_seq; Type: SEQUENCE SET; Schema: public; Owner: parking
--

SELECT pg_catalog.setval('public.pojazdy_numer_pojazdu_seq', 123, true);


--
-- TOC entry 3418 (class 0 OID 0)
-- Dependencies: 218
-- Name: rejestr_wjazdu_wyjazdu_numer_wydruku_seq; Type: SEQUENCE SET; Schema: public; Owner: parking
--

SELECT pg_catalog.setval('public.rejestr_wjazdu_wyjazdu_numer_wydruku_seq', 42, true);


--
-- TOC entry 3237 (class 2606 OID 24795)
-- Name: abonamenty abonamenty_pkey; Type: CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.abonamenty
    ADD CONSTRAINT abonamenty_pkey PRIMARY KEY (numer_subskrybcji);


--
-- TOC entry 3247 (class 2606 OID 41236)
-- Name: platnosci_abonament platnosci_abonament_pkey; Type: CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.platnosci_abonament
    ADD CONSTRAINT platnosci_abonament_pkey PRIMARY KEY (numer_platnosci);


--
-- TOC entry 3245 (class 2606 OID 24880)
-- Name: platnosci_jednorazowe platnosci_jednorazowe_pkey; Type: CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.platnosci_jednorazowe
    ADD CONSTRAINT platnosci_jednorazowe_pkey PRIMARY KEY (numer_platnosci);


--
-- TOC entry 3239 (class 2606 OID 24811)
-- Name: pojazdy pojazdy_pkey; Type: CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.pojazdy
    ADD CONSTRAINT pojazdy_pkey PRIMARY KEY (numer_pojazdu);


--
-- TOC entry 3243 (class 2606 OID 24822)
-- Name: rejestr_wjazdu_wyjazdu rejestr_wjazdu_wyjazdu_pkey; Type: CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.rejestr_wjazdu_wyjazdu
    ADD CONSTRAINT rejestr_wjazdu_wyjazdu_pkey PRIMARY KEY (numer_wydruku);


--
-- TOC entry 3241 (class 2606 OID 24813)
-- Name: pojazdy uq_pojazdy_numer_rejestracyjny; Type: CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.pojazdy
    ADD CONSTRAINT uq_pojazdy_numer_rejestracyjny UNIQUE (numer_rejestracyjny);


--
-- TOC entry 3250 (class 2606 OID 41257)
-- Name: platnosci_jednorazowe fk _rjestr_wjazdu_wyjazdu_numer_wydruku; Type: FK CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.platnosci_jednorazowe
    ADD CONSTRAINT "fk _rjestr_wjazdu_wyjazdu_numer_wydruku" FOREIGN KEY (numer_wydruku) REFERENCES public.rejestr_wjazdu_wyjazdu(numer_wydruku) NOT VALID;


--
-- TOC entry 3248 (class 2606 OID 24823)
-- Name: abonamenty fk_abonamenty_numer_rejestracyjny; Type: FK CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.abonamenty
    ADD CONSTRAINT fk_abonamenty_numer_rejestracyjny FOREIGN KEY (numer_rejestracyjny) REFERENCES public.pojazdy(numer_rejestracyjny);


--
-- TOC entry 3251 (class 2606 OID 41241)
-- Name: platnosci_abonament fk_abonamenty_numer_subskrybcji; Type: FK CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.platnosci_abonament
    ADD CONSTRAINT fk_abonamenty_numer_subskrybcji FOREIGN KEY (numer_subskrybcji) REFERENCES public.abonamenty(numer_subskrybcji) NOT VALID;


--
-- TOC entry 3249 (class 2606 OID 24833)
-- Name: rejestr_wjazdu_wyjazdu fk_rejestr_wjazdu_wyjazdu_numer_rejestracyjny; Type: FK CONSTRAINT; Schema: public; Owner: parking
--

ALTER TABLE ONLY public.rejestr_wjazdu_wyjazdu
    ADD CONSTRAINT fk_rejestr_wjazdu_wyjazdu_numer_rejestracyjny FOREIGN KEY (numer_rejestracyjny) REFERENCES public.pojazdy(numer_rejestracyjny);


-- Completed on 2023-11-04 14:53:31 CET

--
-- PostgreSQL database dump complete
--

